<h2>Subject Name Here</h2>
<h3>Session List</h3>
<p-table
  #dt
  [loading]="loading"
  [lazy]="true"
  (onLazyLoad)="loadSessionsLazy($event)"
  [totalRecords]="totalRecords"
  [columns]="cols"
  [value]="sessionsFormGroup.get('sessions').value"
  selectionMode="single"
  (onRowSelect)="onRowSelect($event)"
  (sortFunction)="customSort($event)"
  [customSort]="true"
  sortField="rating"
>
  <ng-template pTemplate="caption">
    <div class="caption-container">
      <div>
        <button
          class="ui-button-success"
          type="button"
          pButton
          icon="pi pi-plus"
          (click)="addSessionForm()"
          label="add"
        ></button>
      </div>
    </div>
  </ng-template>
  <ng-template pTemplate="header">
    <tr>
      <th pSortableColumn="rating">
        ID <p-sortIcon field="rating"></p-sortIcon>
      </th>

      <th pSortableColumn="text">
        Live URL <p-sortIcon field="text"></p-sortIcon>
      </th>

      <th></th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-rowData>
    <tr [pSelectableRow]="rowData">
      <td>
        {{ rowData.id }}
      </td>

      <td>
        {{ rowData.url }}
      </td>

      <td>
        <button
          type="button"
          pButton
          (click)="onClickLive(rowData.id, rowData.url)"
          label="Question Manage"
          class="ui-button-success"
        ></button> 
        {{' '}}
        <button
          type="button"
          pButton
          (click)="onClickLive(rowData.id, rowData.url)"
          label="Go Live"
          class="ui-button-danger"
        ></button>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr id="row-empty">
      <td [attr.colspan]="3">
        Session Not Found
      </td>
    </tr>
  </ng-template>
</p-table>

<p-dialog
  header="Session"
  [(visible)]="displayDialog"
  [responsive]="true"
  [draggable]="false"
  [dismissableMask]="true"
  showEffect="fade"
  [modal]="true"
  [width]="300"
  (onHide)="onDialogHide($event)"
  [contentStyle]="{ overflow: 'visible' }"
>
  <div class="ui-g ui-fluid" *ngIf="subject" [formGroup]="sessionsFormGroup">
    <div class="ui-g-12">
      <p class="label">ID</p>
      <input
        class="fullwidth"
        formControlName="id"
        id="id"
        placeholder="Fill ID"
        type="text"
        pInputText
      />
    </div>

    <div class="ui-g-12">
      <p class="label">URL</p>
      <input
        class="fullwidth"
        formControlName="url"
        id="url"
        placeholder="Fill URL"
        type="text"
        pInputText
      />
    </div>
  </div>
  <p-footer>
    <div class="ui-dialog-buttonpane ui-helper-clearfix">
      <button
        type="button"
        pButton
        icon="fas fa-check"
        (click)="save()"
        label="Save"
        class="ui-button-success"
      ></button>
      <button
        *ngIf="subject.id"
        type="button"
        pButton
        icon="fas fa-times"
        (click)="delete()"
        label="Delete"
        class="ui-button-danger"
      ></button>
    </div>
  </p-footer>
</p-dialog>
